<div class="page-title">
    <h1>Commission Statements</h1>
    <span class="page-title__info"></span>
    <mat-card class="cardWithShadow theme-card">
        <mat-card-content>
            <!-- <div class="col-lg-12 loading-indicator" *ngIf="isLoading">
            <mat-spinner></mat-spinner>
        </div> -->
            <div class="row">
                <mat-form-field appearance="outline" class="col-lg-3">
                    <mat-label>From Month</mat-label>
                    <input matInput [(ngModel)]="fromMonth" [matDatepicker]="fromPicker" placeholder="Choose a Month" />
                    <mat-datepicker-toggle matIconSuffix [for]="fromPicker"></mat-datepicker-toggle>
                    <mat-datepicker #fromPicker startView="year" (yearSelected)="chosenYearHandler($event)"
                        (monthSelected)="choseFromMonthHandler($event, fromPicker)" panelClass="month-picker">
                    </mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="outline" class="col-lg-3">
                    <mat-label>To Month</mat-label>
                    <input matInput [(ngModel)]="toMonth" [matDatepicker]="toPicker" placeholder="Choose a Month" />
                    <mat-datepicker-toggle matIconSuffix [for]="toPicker"></mat-datepicker-toggle>
                    <mat-datepicker #toPicker startView="year" (yearSelected)="chosenYearHandler($event)"
                        (monthSelected)="choseToMonthHandler($event, toPicker)" panelClass="month-picker">
                    </mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="outline" class="col-sm-3">
                    <mat-label>User</mat-label>
                    <mat-select [(ngModel)]="selectedUserId" placeholder="Select User">
                        <ngx-mat-select-search [formControl]="userFilterCtrl" placeholderLabel="Search here..."
                            noEntriesFoundLabel="No matching found">
                        </ngx-mat-select-search>
                        <mat-option [value]=null>All</mat-option>
                        <mat-option *ngFor="let item of filteredUsers" [value]="item.id">
                            <span>{{ item.id }} - {{ item.name }}</span>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="col-sm-3">
                    <mat-label>Area</mat-label>
                    <mat-select [(ngModel)]="selectedAreaId" placeholder="Select Area" (selectionChange)="areaChange()">
                        <ngx-mat-select-search [formControl]="areaFilterCtrl" placeholderLabel="Search here..."
                            noEntriesFoundLabel="No matching found">
                        </ngx-mat-select-search>
                        <mat-option [value]=null>All</mat-option>
                        <mat-option *ngFor="let item of filteredAreas" [value]="item.id">
                            <span>{{ item.oldId }} - {{ item.name }} - {{ item.id }}</span>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="col-sm-3">
                    <mat-label>Shop</mat-label>
                    <mat-select [(ngModel)]="selectedShopId" placeholder="Select Shop">
                        <ngx-mat-select-search [formControl]="shopFilterCtrl" placeholderLabel="Search here..."
                            noEntriesFoundLabel="No matching found">
                        </ngx-mat-select-search>
                        <mat-option [value]=null>All</mat-option>
                        <mat-option *ngFor="let item of filteredShops" [value]="item.id">
                            <span>{{ item.id }} - {{ item.name }}</span>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="col-sm-3">
                    <mat-label>Mode</mat-label>
                    <mat-select [(ngModel)]="filterMode">
                      <mat-option value="All">All</mat-option>
                      <mat-option value="OptedForCheque">Opted For Cheque</mat-option>
                      <mat-option value="History">History</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-checkbox class="col-sm-3" [(ngModel)]="isDisplayChequeInfo">Cheque Information</mat-checkbox>
            </div>

            <div class="row col-sm-12 space-between-buttons">
               
                <button mat-flat-button color="primary" (click)="onReset()">Clear
                </button>

                <button  mat-flat-button color="primary" (click)="exportToPDF('NONVAT')">Download PDF
                    <mat-icon style="color: red;">picture_as_pdf</mat-icon>
                </button>
                <button  mat-flat-button color="primary" (click)="exportToPDF('VAT')">Download VAT PDF
                    <mat-icon>receipt_long</mat-icon>
                </button>              
            </div>            
            
        </mat-card-content>
    </mat-card>
</div>

<div class="page-title">
    <h1>Download Commission File</h1>
    <span class="page-title__info"></span>
    <mat-card class="cardWithShadow theme-card">
        <mat-card-content>
            <!-- <div class="col-lg-12 loading-indicator" *ngIf="isLoading">
            <mat-spinner></mat-spinner>
        </div> -->
            <div class="row">
                <mat-form-field appearance="outline" class="col-lg-3">
                    <mat-label>From Month</mat-label>
                    <input matInput [(ngModel)]="monthDate" [matDatepicker]="fromPicker1" placeholder="Choose a Month" />
                    <mat-datepicker-toggle matIconSuffix [for]="fromPicker1"></mat-datepicker-toggle>
                    <mat-datepicker #fromPicker1 startView="year" (yearSelected)="chosenYearHandler($event)"
                        (monthSelected)="choseFromMonth1Handler($event, fromPicker1)" panelClass="month-picker">
                    </mat-datepicker>
                </mat-form-field>
                
                <mat-form-field appearance="outline" class="col-sm-3">
                    <mat-label>Mode</mat-label>
                    <mat-select [(ngModel)]="filterExcelMode">
                      <mat-option value="All">All</mat-option>
                      <mat-option value="OptedForCheque">Opted For Cheque</mat-option>
                    </mat-select>
                </mat-form-field>
                  <button  mat-flat-button color="primary" (click)="exportToExcel()">Download Excel
                    <mat-icon style="color: green;">grid_on</mat-icon>
                </button>
            </div>
        </mat-card-content>
    </mat-card>
</div>